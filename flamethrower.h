#pragma once
#include "gameObject.h"

struct tagFlamethrower
{
	image* _image;

	floatRect _rc;

	float _x, _y;
	float _angle;
	float _speed;
	float _size;

	bool _fireStart;
};

class flamethrower : public gameObject
{
private:

	//»≠ø∞πÊªÁ ∫§≈Õ
	vector<tagFlamethrower>				_vFlamethrower;
	vector<tagFlamethrower>::iterator   _viFlamethrower;

	//»≠ø∞√—±∏ ¿Ã∆Â∆Æ ∫§≈Õ
	vector<tagFlamethrower>				_vFlameEffect;
	vector<tagFlamethrower>::iterator   _viFlameEffect;

	//»≠ø∞πÊªÁ πﬂªÁ
	floatPoint _center;			
	floatPoint _centerEnd;
	float _centerMeter;
	float _angle;


	//»≠ø∞√—±∏ ¿Ã∆Â∆Æ πﬂªÁ
	floatPoint _centerEnd2;
	float _centerMeter2;
	float _angle2;

	int _currentFrameX, _currentFrameY;
	int _frameCount;

	//»≠ø∞√—±∏¿Ã∆Â∆Æ ƒ´øÓ∆Æ
	int _firePointCurrentFrameX, _firePointCurrentFrameY;
	int _firePointFrameX, _firePointFrameY;
	int _firePointFrameCount;

	//√Ê¿¸¿Ã∆Â∆Æ ƒ´øÓ∆Æ
	int _chargeCurrentFrameX, _chargeCurrentFrameY;
	int _chargeCurrentFrameX2, _chargeCurrentFrameY2;
	int _chargeFrameCount, _chargeFrameCount2;
	int _chargeFrameX, _chargeFrameY;
	int _chargeFrameX2, _chargeFrameY2;


public:

	flamethrower();
	~flamethrower();

	HRESULT init(float centerX, float centerY);
	void release();
	void update();
	void render();

	void angleUpdate();
	void frameUpdate();
	void fire();
	void move();

	//√Ê¿¸¿Ã∆Â∆Æ ∑ª¥ı
	void chargeDraw(float centerX, float centerY);
	void chargeDraw2(float centerX, float centerY);
	void fireEffectDraw();



};

